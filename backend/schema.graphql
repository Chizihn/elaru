# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Agent {
  active: Boolean!
  completedTasksCount: Int
  createdAt: DateTimeISO!
  description: String!
  endpoint: String!
  id: ID!
  minimumStake: String!
  name: String!
  pricePerRequest: String!
  reputationScore: Float!
  serviceType: String!
  slashedAmount: String!
  stakedAmount: String!
  stakingTxHash: String
  successRate: Float
  updatedAt: DateTimeISO!
  validationCount: Int
  walletAddress: String!
}

type AuthResponse {
  token: String!
  user: User!
}

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.This scalar is serialized to a string in ISO 8601 format and parsed from a string in ISO 8601 format.
"""
scalar DateTimeISO

type Dispute {
  createdAt: DateTimeISO!
  id: ID!
  raisedBy: String!
  reason: String!
  resolvedAt: DateTimeISO
  status: DisputeState!
  task: Task!
  taskId: String!
  votes: [DisputeVote!]
}

"""The current state of a dispute"""
enum DisputeState {
  PENDING
  RESOLVED_REFUND
  RESOLVED_RELEASE
  VOTING
}

"""The current status of a dispute"""
enum DisputeStatus {
  NONE
  RAISED
  RESOLVED_REFUND
  RESOLVED_RELEASE
  VOTING
}

type DisputeVote {
  approveRefund: Boolean!
  comment: String
  disputeId: String!
  id: ID!
  validator: String!
  votedAt: DateTimeISO!
}

type Feedback {
  comment: String!
  id: ID!
  paymentProof: String!
  reviewer: String!
  score: Int!
  timestamp: String!
}

type Mutation {
  assignAgentToTask(agentId: String!, taskId: String!): Task!
  authenticate(signature: String!, walletAddress: String!): AuthResponse!
  completeTask(result: String!, taskId: String!): Task!
  raiseDispute(raisedBy: String!, reason: String!, taskId: String!): Dispute!
  recordAgentInteraction(agentId: String!, description: String!, result: String!, txHash: String!): Task!
  registerAgent(description: String!, endpoint: String!, name: String!, pricePerRequest: String!, responseType: String, serviceType: String!, walletAddress: String!): Agent!
  stakeAgent(stakedAmount: String!, stakingTxHash: String!, walletAddress: String!): Agent!
  submitFeedback(agentId: String!, comment: String, paymentProof: String!, reviewer: String!, score: Int!): Boolean!
  submitTask(description: String!, minTrustScore: Int!): Task!
  submitTaskReview(reviewComment: String, reviewScore: Int!, taskId: String!): Task!
  updateAgent(description: String, endpoint: String, name: String, pricePerRequest: String, walletAddress: String!): Agent!
  updateTaskPayment(paymentStatus: PaymentStatus!, paymentTxHash: String!, taskId: String!): Task!
  voteOnDispute(approveRefund: Boolean!, comment: String, disputeId: String!, validator: String!): DisputeVote!
}

"""The current status of a payment"""
enum PaymentStatus {
  COMPLETED
  CONFIRMING
  INITIATED
  VERIFIED
}

type Query {
  findAgentsForTask(minTrustScore: Int!, taskDescription: String!): [Agent!]!
  getAgent(id: String!): Agent
  getAgentByWallet(walletAddress: String!): Agent
  getAgentEarnings(walletAddress: String!): Float!
  getAgentHistory(agentId: String!): [Task!]!
  getAgentReviews(agentId: String!): [Feedback!]!
  getAgentTasks(agentId: String!, status: TaskStatus): [Task!]!
  getAgents(skip: Int! = 0, take: Int! = 10): [Agent!]!
  getAllDisputes: [Dispute!]!
  getDispute(id: String!): Dispute
  getDisputeVotes(disputeId: String!): [DisputeVote!]!
  getDisputesByStatus(status: DisputeState!): [Dispute!]!
  getReputation(agentId: String!): Reputation
  getReputationHistory: [ReputationHistoryPoint!]!
  getSlashingEvents(limit: Int): [SlashingEvent!]!
  getSlashingStats: SlashingStats!
  getTask(id: String!): Task
  getTopAgents(limit: Int! = 10): [Agent!]!
  getTotalNetworkVolume: Float!
  getUserAgents(walletAddress: String!): [Agent!]!
  getUserTasks(status: TaskStatus): [Task!]!
  getValidations(agentId: String!): [Validation!]!
  me: User
  requestNonce(walletAddress: String!): String!
}

type Reputation {
  agentId: ID!
  feedbacks: [Feedback!]!
  reviewCount: Int!
  totalScore: Int!
}

type ReputationHistoryPoint {
  date: String!
  score: Float!
}

type SlashingEvent {
  agentId: String!
  agentName: String!
  id: String!
  reason: String!
  reviewScore: Float!
  reviewer: String!
  slashedAmount: String!
  timestamp: DateTimeISO!
}

type SlashingStats {
  deactivatedAgents: Float!
  slashingEvents24h: Float!
  totalSlashed24h: Float!
  totalSlashedAllTime: Float!
}

type Task {
  agent: Agent
  completedAt: DateTimeISO
  createdAt: DateTimeISO!
  description: String!
  disputeRaisedAt: DateTimeISO
  disputeReason: String
  disputeStatus: DisputeStatus
  escrowTxHash: String
  id: ID!
  paymentStatus: PaymentStatus
  paymentTxHash: String
  result: String
  reviewComment: String
  reviewScore: Int
  selectedAgentId: String
  status: TaskStatus!
  userId: String!
}

"""The current status of a task"""
enum TaskStatus {
  ASSIGNED
  COMPLETED
  FAILED
  PAID
  PENDING
  PROCESSING
  REVIEWED
}

type User {
  createdAt: DateTimeISO!
  id: ID!
  walletAddress: String!
}

type Validation {
  agentId: String!
  comments: String
  id: ID!
  isValid: Boolean!
  timestamp: String!
  validator: String!
}